<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Page</title>
  <link rel="stylesheet" href="css/home_page_styles.css">
  <link rel="stylesheet" href="css/layout.css">
  <script>
    function redirecionar() {
      window.location = "./addpaciente.html";
    }
    function consultaDados(endpoint, callback) {
      fetch(endpoint).then(function(response) {
        var contentType = response.headers.get("content-type");
        if (contentType && contentType.indexOf("application/json") !== -1) {
          return response.json().then(function(json) {
            callback(json);
          });
        } else {
          console.log("Oops, we haven't got JSON!");
        }
      });
    }
    function iniciar() {
      consultaDados("/pacientes", function(obj) {
        var tabela = document.getElementById("tabela");
        for (var i = 0; i < obj.length; i++) {
          var tr = document.createElement("tr");
          tr.classList.add("nomes");
          var tds = [
            document.createElement("td"),
            document.createElement("td"),
            document.createElement("td"),
            document.createElement("td"),
            document.createElement("td"),
            document.createElement("td"),
          ];
          for (var t = 0; t < tds.length; t++) {
            tds[t].classList.add("paciente");
            tr.appendChild(tds[t]);
          }
          tds[0].innerText = i + 1;
          var a = document.createElement("a");
          a.href = "dados_paciente.html";
          a.innerText = obj[i].nome;
          tds[1].appendChild(a);
          tds[2].innerText = obj[i].rg;
          tds[3].innerText = obj[i].telefone;
          tds[4].innerText = obj[i].setor;
          tds[5].innerText = obj[i].sus;
          tabela.appendChild(tr);
        }
      })
    }
  </script>
</head>

<body onload="iniciar()">
  <div class="layout-menu">
      <div class="home">
          <img src="fotos/home.png">
          <a href="index.html"><h2 class="home_menu">Home</h2></a>
      </div>
      <div class="pacientes">
          <img src="fotos/user.png" id="user">
          <a href="home_page.html"><h2 class="pacientes_menu">Pacientes</h2></a>
      </div> 
  </div>

  <div class="layout-cabeçalho">
    <input type="text" name="text" id="search" placeholder="Pesquise">
    <input type="button" id="redirecionar" name="acao" onclick="redirecionar()" value="Adicionar paciente"/>
  </div>

  <div class="layout-conteudo">
    <table id="tabela">
      <tr class="cabecalho-tabela">
        <td class="cabeca">#</td>
        <td class="cabeca">Nome</td>
        <td class="cabeca">RG</td>
        <td class="cabeca">Telefone</td>  
        <td class="cabeca">Setor</td>
        <td class="cabeca">SUS</td>
      </tr>
      <!-- <tr class="nomes">
        <td class="paciente">1</td>
        <td class="paciente"><a href="dados_paciente.html">Manuela da Silva</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">Enfermaria</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">2</td>
        <td class="paciente"><a href="dados_paciente.html">Arlindo da Silvaa</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">Ambulatório</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">3</td>
        <td class="paciente"><a href="dados_paciente.html">Pedro Vieira</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">4</td>
        <td class="paciente"><a href="dados_paciente.html">Clara Santana</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">5</td>
        <td class="paciente"><a href="dados_paciente.html">Elder Lamarck</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">6</td>
        <td class="paciente"><a href="dados_paciente.html">Diego Moura</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">7</td>
        <td class="paciente"><a href="dados_paciente.html">Micaela Krolls</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">8</td>
        <td class="paciente"><a href="dados_paciente.html">Maria Júlia wayne</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">9</td>
        <td class="paciente"><a href="dados_paciente.html">Jorge Camara</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr>
      <tr class="nomes">
        <td class="paciente">10</td>
        <td class="paciente"><a href="dados_paciente.html">Felipe Leão</a></td>
        <td class="paciente">9845098487</td>
        <td class="paciente">(81) 3333-3333</td>
        <td class="paciente">COVID-19</td>
        <td class="paciente">111-2222-3333-4444-5555</td>
      </tr> -->
    </table>
  </div>
</body>
</html>